<div class="category-tables" *ngIf="!!budget">
	<div class="category-table expense">
		<div class="category-header">
			<h3>Expense Categories</h3>
			<button class="category-create-button" (click)="openCreateCategoryDialog('EXPENSE')">New Category</button>
		</div>
		<table mat-table [dataSource]="expenseCategories" *ngIf="incomeCategories.length !== 0" class="mat-elevation-z8">
			<ng-container matColumnDef="name">
				<th mat-header-cell *matHeaderCellDef> Name </th>
				<td mat-cell *matCellDef="let category"> {{ category?.name }} </td>
			</ng-container>

			<!-- Allocated Amount -->
			<ng-container matColumnDef="allocatedAmount">
				<th mat-header-cell *matHeaderCellDef> Allocated Amount </th>
				<td mat-cell *matCellDef="let category">
					{{ category?.allocatedAmount | currency }}
				</td>
			</ng-container>

			<!-- Akcje -->
			<ng-container matColumnDef="actions">
				<th mat-header-cell *matHeaderCellDef> Actions </th>
				<td mat-cell *matCellDef="let category">
					<button mat-icon-button [matMenuTriggerFor]="menu">
						<mat-icon>more_vert</mat-icon>
					</button>
					<mat-menu #menu="matMenu">
						<button mat-menu-item>Edit</button>
						<button mat-menu-item>Delete</button>
					</mat-menu>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"
				[attr.data-id]="row.id">
			</tr>
		</table>

		<div *ngIf="expenseCategories.length === 0" class="no-data">
			No expense categories found.
		</div>
	</div>

	<!-- Tabela INCOME -->
	<div class="category-table income">
		<div class="category-header">
			<h3>Income Categories</h3>
			<button class="category-create-button" (click)="openCreateCategoryDialog('INCOME')">New Category</button>
		</div>
		<table mat-table [dataSource]="incomeCategories" *ngIf="incomeCategories.length !== 0" class="mat-elevation-z8">
			<!-- Nazwa -->
			<ng-container matColumnDef="name">
				<mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
				<mat-cell *matCellDef="let category"> {{ category?.name }} </mat-cell>
			</ng-container>

			<!-- Allocated Amount -->
			<ng-container matColumnDef="allocatedAmount">
				<mat-header-cell *matHeaderCellDef> Allocated Amount </mat-header-cell>
				<mat-cell *matCellDef="let category">
					{{ category?.allocatedAmount | currency }}
				</mat-cell>
			</ng-container>

			<!-- Akcje -->
			<ng-container matColumnDef="actions">
				<mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
				<mat-cell *matCellDef="let category">
					<button mat-icon-button [matMenuTriggerFor]="menu">
						<mat-icon>more_vert</mat-icon>
					</button>
					<mat-menu #menu="matMenu">
						<button mat-menu-item>Edit</button>
						<button mat-menu-item>Delete</button>
					</mat-menu>
				</mat-cell>
			</ng-container>

			<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
			<mat-row *matRowDef="let row; columns: displayedColumns;"
				[attr.data-id]="row.id">
			</mat-row>
		</table>

		<div *ngIf="incomeCategories.length === 0" class="no-data">
			No income categories found.
		</div>
	</div>
</div>
